<!-- templates/admin_login.html -->
{% extends "base.html" %} {% block content %}
<main class="auth-container">
  <div class="auth-form">
    <h1>Admin Login</h1>
    <p class="auth-subtitle">Access admin dashboard</p>

    <!-- IMPORTANT: action changed to /admin/login to match server POST handler -->
    <form id="login-form" action="/admin/login" method="POST">
      <div class="form-group">
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Admin Email"
          required
        />
        <div class="error-message" id="email-error"></div>
      </div>

      <!-- <div class="form-group">
        <input
          type="password"
          id="password"
          name="password"
          placeholder="Password"
          required
        />
        <div class="error-message" id="password-error"></div>
      </div> -->

      <div class="form-group password-container" style="position: relative">
        <input
          type="password"
          id="password"
          name="password"
          placeholder="Password"
          required
          style="padding-right: 40px"
        />
        <!-- Eye icon button -->
        <button
          type="button"
          id="toggle-password"
          style="
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            border: none;
            background: transparent;
            cursor: pointer;
          "
        >
          👁️
        </button>
        <div class="error-message" id="password-error"></div>
      </div>

      <button type="submit" class="btn btn-primary btn-full">Login</button>
    </form>

    <div class="auth-note">
      <p>Note: Only pre-authorized admin accounts can access this panel.</p>
    </div>
  </div>
</main>
<!-- JS to toggle password visibility -->
<script>
  const passwordInput = document.getElementById("password");
  const togglePassword = document.getElementById("toggle-password");

  togglePassword.addEventListener("click", () => {
    const type =
      passwordInput.getAttribute("type") === "password" ? "text" : "password";
    passwordInput.setAttribute("type", type);

    // Change icon if you want
    togglePassword.textContent = type === "password" ? "👁️" : "🙈";
  });
</script>
{% endblock %}
